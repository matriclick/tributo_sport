$(document).ready(function(){
 
 var imgArr = new Array( // relative paths of images
 '<%= asset_path "el_bazar/background-home.jpg" %>',
 '<%= asset_path "el_bazar/background-home2.jpg" %>',
 '<%= asset_path "el_bazar/background-home3.jpg" %>',
 '<%= asset_path "el_bazar/background-home4.jpg" %>',
 '<%= asset_path "el_bazar/background-home5.jpg" %>'
 );
 
 var preloadArr = new Array();
 var i;
 
 /* preload images */
 for(i=0; i < imgArr.length; i++){
 preloadArr[i] = new Image();
 preloadArr[i].src = imgArr[i];
 }
 
 var currImg = 1;
 var intID = setInterval(changeImg, 6000);
 
 /* image rotator */
 function changeImg(){
 $('#home_content').animate({opacity: 0}, 1000, function(){
 $(this).css('background','url(' + preloadArr[currImg++%preloadArr.length].src +') top center no-repeat');
 $(this).css('background-size','100% auto');
 }).animate({opacity: 1}, 1000);
 }
 
 });